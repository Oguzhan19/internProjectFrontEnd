<head>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
  <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
</head>
<br />
<div class="container">
    <div class="row col-md-6 col-md-offset-2 custyle">
    <table class="table table-striped custab">
    <thead>
        <tr>
            <th>Capacity</th>
            <th>duration</th>
            <th>name</th>
            <th>start_date</th>
            <th>Employee</th>
            <th>Project</th>
            <th>Create New Assignment</th>
        </tr>
  </thead>
  <tbody>
<tr ng-class="assignment">
     <td> <label>
        <input [(ngModel)]="assignment.capacity" placeholder="capacity"/>
      </label></td>
    <td>
      <label>
          <input [(ngModel)]="assignment.duration" placeholder="duration"/>
        </label>
      </td>
        <td>
        <label>
                <input [(ngModel)]="assignment.name" placeholder="name"/>
              </label>
            </td>
          <!-- <td> -->
        <!-- <label>
            <input [(ngModel)]="assignment.startDate" placeholder="startDate"/>
        
          </label> 
          </td>-->
          <td>
              <input
                  id="startDate"
                  type="date"                
                  #startDate="ngModel"
                  [(ngModel)]="assignment.startDate"
                  required
                  pattern="^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))
                  (?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|
                  [13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|
                  (?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$"  >
                
          <div class="alert alert-danger" [hidden]="startDate.valid || startDate.untouched">
              <div  *ngIf="startDate.errors && startDate.errors.required">
                  startDate is required
              </div>
              <div  class="alert alert-danger" *ngIf="startDate.errors && startDate.errors.pattern">
                  Start date should be in the format of dd/mm/yyyy. Plaese be sure that you entered a valid date.
              </div>
          </div>
          </td>

      
      <td>
          <select class="form-control" [(ngModel)]="assignment.employee.empID">
              <option style="display:none" value="">Choose an option</option>
              <option *ngFor="let employee of employees" [value]="employee.empID">{{employee.empID}}</option>
            </select>
            </td>
          <td>
           
          <select class="form-control" [(ngModel)]="assignment.project.id">
              <option style="display:none" value="">Choose a project</option>
              <option *ngFor="let project of projects" [value]="project.id">{{project.id}}</option>
            </select>
            </td>
          <td>
    <button (click)="add(assignment)">add</button>
  </td>
</tr>
</tbody>
</table>
</div></div>
<br /> <br />

<div class="container">
    <div class="row col-md-6 col-md-offset-2 custyle">
    <table class="table table-striped custab">
    <thead>
        <tr>
            <th>ID</th>
            <th>Capacity</th>
            <th>duration</th>
            <th>name</th>
            <th>start_date</th>
            <th>Employee</th>
            <th> Project</th>
            <th>Delete Assignment</th>
        </tr>
  </thead>
  <tbody>

    <tr *ngFor="let assignment of assignments">
     <td> <a routerLink="/assignmentDetail/{{assignment.id}}">
        <span class="badge">{{assignment.id}}</span>  
      </a> </td>
      <td> {{assignment.capacity}} </td>
    <td>{{assignment.duration}}</td> 
  <td> {{assignment.name}}</td> 
<td> {{assignment.startDate}} </td>
<td> {{assignment.employee.empID}} </td>
<td> {{assignment.project.id}} </td>
<td><button class="delete" title="delete assignment"
  (click)="delete(assignment)">delete</button></td>
    </tr>
  </tbody>
</table>
</div></div>
<br /> <br />